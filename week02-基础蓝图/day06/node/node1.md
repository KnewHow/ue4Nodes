# 第六天-蓝图基础



## 1 蓝图定义

## 1.1 蓝图分类

![image-20200511091436164](../images/image-20200511091436164.png)



## 1.2 面向对象思想

#### 1.2.1 对象

![image-20200511091638900](../images/image-20200511091638900.png)

#### 1.2.2 继承

![image-20200511091832221](../images/image-20200511091832221.png)

#### 1.2.3 特征

![image-20200511091940125](../images/image-20200511091940125.png)

#### 1.2.4 UE4 的类

![image-20200511092232711](../images/image-20200511092232711.png)



## 1.3 蓝图类的创建

* 直接创建

![image-20200511092737990](../images/image-20200511092737990.png)

* 选中创建

  ![image-20200511093018413](../images/image-20200511093018413.png)



## 1.4 蓝图的基本操作

![image-20200511093251140](../images/image-20200511093251140.png)



## 1.5 蓝图基本界面

![image-20200511093659524](../images/image-20200511093659524.png)

## 1.6 变量

![image-20200511094405896](../images/image-20200511094405896.png)



## 1.7 ue4中的变量的类型

总的数据类型

![image-20200511095810621](../images/image-20200511095810621.png)

#### 1.7.1 字节类型-uint8

在ue4中为 `uint8`,在标准c++中为`byte`

![image-20200511094835176](../images/image-20200511094835176.png)

进制：

![image-20200511095013211](../images/image-20200511095013211.png)

#### 1.7.2 整型-int32

![image-20200511095153973](../images/image-20200511095153973.png)

#### 1.7.3 布尔类型-bool

#### 1.7.4 长整型-int64

![image-20200511095428774](../images/image-20200511095428774.png)

#### 1.7.5-浮点数-float

![image-20200511095513015](../images/image-20200511095513015.png)



#### 1.7.6 名称类型-name

![image-20200511100010653](../images/image-20200511100010653.png)



#### 1.7.7-字符串-String

![image-20200511100209669](../images/image-20200511100209669.png)



#### 1.7.8 文本类型-Text

![image-20200511100642764](../images/image-20200511100642764.png)

用来承载翻译数字，凡是显示出来的内容都需要使用 Text



## 1.8 变量信息

![image-20200511103946839](../images/image-20200511103946839.png)

#### 1.8.1-InstanceEnable

![image-20200511103140540](../images/image-20200511103140540.png)





#### 1.8.2 生成时公开-ExposeOnSpawn

![image-20200511103851005](../images/image-20200511103851005.png)

![image-20200511103119434](../images/image-20200511103119434.png)

### 1.9 复合类型

#### 1.9.1 数组等复合类型的定义

![image-20200511104558198](../images/image-20200511104558198.png)



#### 1.9.2 数组的操作

![image-20200511105912865](../images/image-20200511105912865.png)

其中get有两个方法，get(copy)和get(ref)

* get(copy) 拷贝元素返回
* get(ref) 返回对于元素引用



#### 1.9.3 Set

![image-20200511110115912](../images/image-20200511110115912.png)



#### 1.9.4-Map

![image-20200511110809121](../images/image-20200511110809121.png)

#### 1.9.5-Class(结构体)

现在外面创建，然后在蓝图中使用：

![image-20200511111321902](../images/image-20200511111321902.png)

![image-20200511111151219](../images/image-20200511111151219.png)



给Class的属性设置值：

![image-20200511112522208](../images/image-20200511112522208.png)



#### 1.9.6 枚举类型

创建后，在蓝图中使用

![image-20200511111809565](../images/image-20200511111809565.png)



## 2 蓝图解析

### 2.1 引线

白色的线叫流程引线，其他的为数据引线

![image-20200511133521642](../images/image-20200511133521642.png)



![image-20200511133626839](../images/image-20200511133626839.png)

双击连线，生成一个转接点，用于美观。

![image-20200511134021123](../images/image-20200511134021123.png)



### 2.2 访问器(get和set)

![image-20200511134147418](../images/image-20200511134147418.png)



## 2.3 变量运算

![image-20200511135407761](../images/image-20200511135407761.png)



## 2.4 向量运算

![image-20200511141528816](../images/image-20200511141528816.png)



## 2.5 关系运算

![image-20200511140242938](../images/image-20200511140242938.png)



## 2.6 Bool 运算

![image-20200511140511165](../images/image-20200511140511165.png)



## 2.7 插值(Lerp)

有三个变量A,B,a

C=(B-A) * a + A

* 当 a = 0 时，C = A
* 当 a = 0.5 时， C=(B+A)/2
* 当 a = 1 时， C=B



## 2.8 用蓝图实现测距离

实现思路：首先我们获得枪口的位置以及枪口的朝向，则子弹射出的方向即为枪口的朝向，我们以枪口的朝向为向量，使其扩大10000倍(射程)，这样我们可以找到另一个点——落点。我们可以计算出落点的坐标等信息，并实例化一个对象`Point`,将其保存在`lastPoint`变量中，当下次在触发时，我们根据前面两个`point` 就可以计算出两个落点之间的距离。

当然，我们也可以当有两个落点的时候，创建一个新的实例对象`Ruler`，在Ruler的构造函数里面来实现距离的计算和画线。

[测距离-第三人称蓝图](http://blueprintue.cn/blueprint/hke_2-vt/)

[测距离-Ruler蓝图](http://blueprintue.cn/blueprint/h3ppqqic/)



## 2.9 蓝图断点调试

在流程线框中右键：

![image-20200511175637864](../images/image-20200511175637864.png)

和一般的集成开发环境差不多，有单步调试等工具：

![image-20200511175743487](../images/image-20200511175743487.png)